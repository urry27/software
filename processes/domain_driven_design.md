**Предметно-ориентированное проектирование**
**Domain driven design**

Цель - упрощения разработки

Основные принципы:
 - Ограниченные контексты (bounded contexts). Это разбиение логическое, а не физическое.
 - Единый язык (ubiquitous language)
 - Фокус на доменной модели (Domain model)

Тезисы:
- Каждый ограниченный контекст решает свою проблему
- Доменная модель внутри огранчиенного контекста
- Внутри ограниченого контекста свой единый язык

Задачи:
- High cohesion внутри ограниченного контекста
- Loose coupling между ограниченными контекстами

У контекстов есть пересечение по сущностям. Их не нужно переиспользовать, а реализация должна быть своя у каждого ограниченного контекста. Допустимое дублирование кода.

За какой-то атрибут сущности отвечает один ограниченный контекст.

Доменная логика должна иметь отдельное, четко обозначенное месло в проекте (слой).

## Изоляция доменной модели (domain_model_purity)


- Upstream система
- Downstream система

Доменная модель - изолирована от инфтраструктуры (сервисов приложений)

Гексагональная архитектура
- Разделение отвесттвенности между доменной моделью и сервисами приложений
- Однонаправленная течение зависимостей - сервисы приложений должны знать о доменной модели, но доменная модель не должна знать о сервисе приложений
- Взаимодействие между приложениями - через сервисы приложений, а не напрямую в доменную модель

## DDD трилема

- Инкапсуляция доменной модели
- Изоляция доменной модели
- Быстродействие

Мы можем выбрать два их трех:
- Внедрение внепроцессных зависимостей в доменную модель (Инкапсуляция доменной модели и Быстродействие)
- Разделение процесса принятия решения между доменной моделью и контроллерами (Быстродействие и Изоляция доменной модели)
- Сещение работы с внепроцессными зависимостями к границам бизнес операций (Изоляция доменной модели и Инкапсуляция доменной модели)

Какой выбор делать:
- Изоляция > Инкапсуляция > Быстродействие


