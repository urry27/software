**Пользовательская история**
**User story**

Правила формирования - Один actor, одно действие, одна ценность. <br>
Как, <роль/персонаж юзера>, я <что-то хочу получить>, <с такой-то целью> . br>
«As !WHO! I want !WHAT! so that !WHY! br>

## Советы

- Лучше написать много историй поменьше, чем несколько громоздких.
- Каждая история в идеале должна быть написана избегая технического жаргона — чтобы клиент мог приоритезировать истории и включать их в итерации.
- Тесты должны быть написаны до кода.
- Как можно дольше стоит избегать UI. История должна выполняться без привязки к конкретным элементам.
- Каждая история должна содержать оценку.
- История должна иметь концовку — т.е. приводить к конкретному результату.
- История должна вмещаться в итерацию.

## INVEST
Пользовательские истории следуют INVEST модели, предложенной Биллом Вейком (Bill Wake). Они независимые (Independent), обсуждаемые (Negotiable), ценные (Valuable), поддающиеся оценке (Estimable), небольшие (Small) и тестируемые (Testable).

### Независимые (Independent)
- Можно планировать и реализовывать в любом порядке.
- Пересечение историй - не желательно. Рассматриваются только пересечения функций системы, а не их техническая реализация.
- Последовательность историй - в основном можно обойти. Например, захардкодить зависимые части.
- Составные истории (иерархия, когда одни внутри другой) - иногда полезно. Но планировать нужно по приоритетам, а не по иерархиям.

### Обсуждаемые (Negotiable)
- История это не договор на исполнение. Хорошая история отражает суть, а не детали.
- Детали создаются совместно заказчиком и разработчиками в процессе разработки.
- Детали не важны для приоритезации и начала работы.

### Ценные (Valuable)
- Пользовательская история ценна для заказчика. Что реализация привтосит в реальный мир ?
- Думайте о истории как о многослойном пироге: сетевой уровень, уровень базы данных, логический уровень, уровень представлений. Мы хотим дать заказчику весь пирог и лучший способ его делить вертикально слоям.
- По формуле IRACIS (1977 г.) можно выделить, что ценность это: увеличение дохода, избежание затрат, улучшение сервиса.

### Поддающиеся оценке (Estimable)
- Оценка должны быть достаточной для планирования реализации заказчиком.

### Небольшие (Small)
- Обычно это должно занимать от часов до дней, не недели и месяцы.
- Небольшие истории получают более точные оценки.
- Разделяйте историю с точки зрения пользователя, а не с технологии.
- Помогает делать прогресс видимым.
- Предоставляют пользу раньше.
- Даёт обратную связь, которая поможет достичь результата.
- Помогает  сокращаться рыночный и технический риск.

### Тестируемые (Testable)
- Нужно иметь возможность написать тест на историю до её реализации.
- Не обязательно писать все тесты перед началом работы.
- К нефункциональным требованиями нужно относится как к вещам, которые можно протестировать.
- Потенциальные проблемы тестируемости могут быть из-за слов: "просто", "соответствующий, правильный, подходящий", "лучший, худший", "самый, наименее, самый короткий, самый длинный", "все комбинации, все перестановки", "любой из, не важно какой", "легкий в использовании, люди, нравится", "я узнаю это когда увижу".

## Разделение пользовательской истории

### 1. Шаги рабочего процесса
Сначала реализуйте процесс от начала и до конца, а потом добавляйте промежуточные шаги.

### 2. Варианты бизнес-правил
Проверьте историю на наличие бизнес-правил, каждое из которых само по себе может быт Пользовательской Историей.

### 3. Основное усилие
Разделите историю на несколько частей таким образом, что основные усилия будут направлены на разработку первой истории.

### 4. Простые/Сложные
Запишите этот простой способ как отдельную историю. А потом разделите все вариации и сложности на отельные истории.

### 5. Вариации данных
Начните с самого простого варианта.

### 6. Методы введения данных
Сначала сделайте простой интерфейс, а потом более привлекательным и удобным.

### 7. Отложите производительность
Разбейте историю на "заставить работать" и "сделать быстрой".

### 8. Операции (например, CRUD)
Разделите историю по операциям.

### 9. Отделение Спайка (Spike) 
Разрешайте неопределенности в разработке.

### Как выбрать шаблон ?

1. Выбирайте разделение, которое позволит понизить приоритет или отбросить историю
1. Выбирайте разделение, которое даст вам наиболее равные по размеру истории